
# Баварец(коли) скрейпър
Описание за това как да използвате моя баварец скрейпър и как е направен.

  

**Как да използвате**

За да използвате баварец скрейпъра първо трябва да го пуснете на вашата машина може да следвате инструкциите във how_to_start файла или да копи-пейстенете кода във идето и да го рънете( трябва да имате инсталиран пайтън)

След това в промта въведте данните за колите които искате да скрейпвате, а след това се насладете на резулатите в удобен за вас формат. Имам и csv и json, а даже и html.
  

### Цел и кратко описание

Проектът реализира клиент–сървър приложение, при което:

-   **Клиентът** подава входни данни (марка, минимална цена, **брой резултати/коли** за скрейпване) и изисква резултат.
    
-   **Сървърът** извлича данни от уеб сайт (web scraping), форматира резултатите и ги връща в **JSON** към клиента.
    
-   **Клиентът** записва полученото в **JSON**, **CSV** и генерира **HTML отчет** с таблица и **снимки** (не винаги работят хехехех)


Сървърът е **multithreaded** – за всяка клиентска връзка се създава нишка. Това позволява едновременно обслужване на множество клиенти.

### Архитектура

### 3.1 Компоненти

-   **server.py** – TCP сървър (IPv4, TCP), слуша на `HOST:PORT`, приема JSON заявки, скрейпва, връща JSON отговор.
    
-   **client.py** – TCP клиент; пита за `limit` и по желание `make`, `max_price`, изпраща заявка, съхранява файлове (**JSON/CSV/HTML**).
    

### 3.2 Комуникационен протокол (повърх TCP)

-   **Кодиране:** UTF-8
    
-   **Формат:** JSON




**Заявка (client → server):**

`{
  "cmd": "SCRAPE",
  "make": "bmw",
  "min_price": 3000,
  "limit": 20
}`


**Отговор (server → client):**

` 
{
  "ok": true,
  "data": [
    {   
      "title": "BMW 320d ...",
      "price": "8 500 лв.",
      "location": "София",
      "link": "https://www.mobile.bg/...",
      "image_url": "https://www.mobile.bg/..."
    }
    // ...
  ]
}
`

### Инсталация и стартиране

#### 5.1 Изисквания

-   Python 3.10+
    
-   Интернет достъп (за скрейпване)
    
-   ОС: Linux / Windows / macOS

### HTML отчет

`client.py` генерира **`report.html`**:

-   Таблица: снимка • заглавие/линк • цена • описание
    
-   Отчетът използва **`image_url`** директно (понякога не бачка)
    
-   Отвори с браузър
  

### Дизайн и имплементационни детайли

-   **Multithreaded сървър**: за всеки `accept()` се стартира нишка `handle_client(...)`.
   
    
-   **Кодиране**: `chardet` открива енкодинг на HTML; за пренос – UTF-8.
    
-   **Селектори**: използван е CSS селектор `div.item` и под-елементи. Това може да се променя от сайта – предвидени са защити (пропускане при липсващ елемент).
    
-   **Протокол**: JSON е лесен за разширяване и ако в бъдеще искаме да надградим нашия Баварец скрейпър за да може да го вържем лесно с други системи

	## Благодаря ви че използвате Баварец скрейпър 
	**с обич Руси Шишманов**
	**фн: 4MI0800060**
